function log(port) {
  console.log('\x1b[33m%s', startMsg().join(''))

  console.log('          /\\')
  console.log('         (  )')
  console.log('         (  )')
  console.log('        /|/\\|\\')
  console.log('       /_||||_\\')
  console.log('       VVVVVVVV')
  lineBreak()
  console.log(endMsg(port))
  console.log('destination: Your browser')
  console.log('\x1b[0m', '') //resets
}

function startMsg() {
  const messages = [
    'Starting engines',
    'Setting thrusters to max',
    'Applying sellotape to cracks',
    'Briefing astronauts',
    'Dusting off cobwebs',
    'Counting down',
    'Clearing launchpad',
    'Alerting passing pedestrians',
  ]

  return getRandom(
    messages.map(item => {
      return `${item}...\n`
    }),
    3
  )
}
function endMsg(port) {
  const messages = [
    `We have lift off on port ${port}`,
    `Take off on port ${port}`,
    `Houston, we have a server running on port ${port}`,
    `Houston, outbound server on port ${port}`,
    `Looks like a server on port ${port}`,
    `Lift off on port ${port}`,
    `Successful take off on port ${port}`,
  ]

  return messages[Math.floor(Math.random() * messages.length)]
}
function getRandom(arr, n) {
  var result = new Array(n),
    len = arr.length,
    taken = new Array(len)
  while (n--) {
    var x = Math.floor(Math.random() * len)
    result[n] = arr[x in taken ? taken[x] : x]
    taken[x] = --len in taken ? taken[len] : len
  }

  return result
}

function lineBreak() {
  console.log('\n')
}
module.exports = log

log(8080)